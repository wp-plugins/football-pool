jQuery(document).ready(function(){jQuery("body.football-pool input.current-page").keydown(function(b){13==b.which&&jQuery('input[name="action"]').val("")});jQuery("div.matchtype input:checkbox").click(function(){var b=jQuery(this).attr("id").replace("matchtype-","");jQuery(this).is(":checked")?jQuery("div.matchtype-"+b+" input:checkbox").each(function(){jQuery(this).attr("checked","checked")}):jQuery("div.matchtype-"+b+" input:checkbox").each(function(){jQuery(this).removeAttr("checked")})});try{jQuery("a.ranking-log-summary").colorbox({html:function(){return'<div class="ranking-log">'+
jQuery("div.ranking-log-summary",jQuery(this).parent()).html()+jQuery("div.ranking-log-rest",jQuery(this).parent()).html()+"</div>"},innerWidth:"600px",innerHeight:"400px"})}catch(b){}});function footballpool_tinymce_init_tabs(b){jQuery("li","#"+b).each(function(){jQuery(this).bind("click",function(){mcTabs.displayTab(jQuery(this).attr("id"),jQuery(this).attr("id").replace("_tab","")+"_panel");return!1})})}function footballpool_tinymce_init(){tinyMCEPopup.resizeToInnerSize()}
function footballpool_tinymce_insert_shortcode(){var b,d="",e=!1,f=!1;atts=panel=the_text="";jQuery("div","#panel_wrapper").each(function(){jQuery(this).hasClass("current")&&(panel=jQuery(this).attr("id"))});var c="#"+panel;b=jQuery(".shortcode",c).val();switch(b){case "fp-link":c=jQuery("#slug",c).val();""!=c&&(atts+=' slug="'+c+'"');break;case "fp-register":var e=f=!0,a=jQuery("#link-title",c).val();""!=a&&(atts+=' title="'+a+'"');jQuery("#link-window",c).is(":checked")&&(atts+=' new="1"');break;
case "fp-countdown":a=jQuery("input[name=count_to]:checked",c).val();"date"==a?(a=jQuery("#count-date",c).val(),""!=a&&(atts+=' date="'+a+'"')):"match"==a&&(a=jQuery("#count-match",c).val(),0<a&&(atts+=' match="'+a+'"'));jQuery("#count-inline",c).is(":checked")&&(atts+=' display="inline"');a="";a=jQuery("#count-no-texts",c).is(":checked")?"none":[jQuery("#text-1",c).val(),jQuery("#text-2",c).val(),jQuery("#text-3",c).val(),jQuery("#text-4",c).val()].join(";");""!=a&&";;;"!=a&&(atts+=' texts="'+a+
'"');break;case "fp-group":c=jQuery("#group-id",c).val();0<c&&(atts+=" id="+c);break;case "fp-ranking":a=jQuery("#ranking-id",c).val();0<a&&(atts+=' ranking="'+a+'"');a=jQuery("#ranking-league",c).val();0<a&&(atts+=' league="'+a+'"');a=jQuery("#ranking-num",c).val();0<a&&(atts+=' num="'+a+'"');jQuery("#ranking-show-num-predictions",c).is(":checked")&&(atts+=" show_num_predictions=1");a=jQuery("input:radio[name=ranking-date]:checked",c).val();"custom"==a&&(a=jQuery("#ranking-date-custom-value",c).val());
""!=a&&(atts+=' date="'+a+'"');break;case "fp-predictions":a=jQuery("#predictions-match",c).val();0<a&&(atts+=' match="'+a+'"');a=jQuery("#predictions-question",c).val();0<a&&(atts+=' question="'+a+'"');a=jQuery("#predictions-text",c).val();""!=a&&(atts+=' text="'+a+'"');break;case "fp-user-score":a=jQuery("#user-score-ranking-id",c).val();0<a&&(atts+=' ranking="'+a+'"');a=jQuery("#user-score-user-id",c).val();""!=a&&(atts+=' user="'+a+'"');a=jQuery("#user-score-text",c).val();""!=a&&(atts+=' text="'+
a+'"');a=jQuery("input:radio[name=user-score-date]:checked",c).val();"custom"==a&&(a=jQuery("#user-score-date-custom-value",c).val());""!=a&&(atts+=' date="'+a+'"');break;case "fp-user-ranking":a=jQuery("#user-ranking-ranking-id",c).val();0<a&&(atts+=' ranking="'+a+'"');a=jQuery("#user-ranking-user-id",c).val();""!=a&&(atts+=' user="'+a+'"');a=jQuery("#user-ranking-text",c).val();""!=a&&(atts+=' text="'+a+'"');a=jQuery("input:radio[name=user-ranking-date]:checked",c).val();"custom"==a&&(a=jQuery("#user-ranking-date-custom-value",
c).val());""!=a&&(atts+=' date="'+a+'"');break;case "fp-predictionform":var c=jQuery("#match-id").val()||[],a=jQuery("#matchtype-id").val()||[],g=jQuery("#question-id").val()||[];0<c.length&&(atts+=' match="'+c.join(",")+'"');0<a.length&&(atts+=' matchtype="'+a.join(",")+'"');0<g.length&&(atts+=' question="'+g.join(",")+'"');break;case "fp-matches":c=jQuery("#matches-match-id").val()||[];a=jQuery("#matches-matchtype-id").val()||[];0<c.length&&(atts+=' match="'+c.join(",")+'"');0<a.length&&(atts+=
' matchtype="'+a.join(",")+'"');break;default:""==b&&tinyMCEPopup.close()}""!=b&&(f&&""!=tinyMCE.activeEditor.selection.getContent()&&(the_text=tinyMCE.activeEditor.selection.getContent({format:"text"})),d="["+b+atts+"]",d+=the_text,d+=e?"[/"+b+"]":"");window.tinyMCE&&(window.tinyMCE.execInstanceCommand("content","mceInsertContent",!1,d),tinyMCEPopup.editor.execCommand("mceRepaint"),tinyMCEPopup.close())}
function calculate_score_history(b,d){var e;e=b||0;var f=d||0;if(0===e){e={action:"footballpool_calculate_scorehistory",fp_recalc_nonce:FootballPoolAjax.fp_recalc_nonce,step:0,single_ranking:f};try{jQuery.post(ajaxurl,e,function(a){jQuery.colorbox({html:a.colorbox_html,overlayClose:!1,escKey:!1,arrowKey:!1,close:FootballPoolAjax.colorbox_close,innerWidth:"500px",innerHeight:"250px"});jQuery("#cboxClose").hide()},"json").fail(function(a,b,c){alert("Error message:\n"+c)})}catch(c){alert(FootballPoolAjax.error_label+
":\n"+c)}}else{1===e&&(e=jQuery.parseJSON(jQuery("#step-0-data").val()),e.calculation_type=jQuery("input[name=calculation_type]:checked",".calculation-type-select").val(),jQuery("#step-0-form").hide(),jQuery("#progress").show(),jQuery("#progressbar").progressbar({max:0}));e={action:"footballpool_calculate_scorehistory",fp_recalc_nonce:e.fp_recalc_nonce,step:e.step,sub_step:e.sub_step,single_ranking:e.single_ranking,ranking:e.ranking,progress:e.progress,total_steps:e.total_steps,user_set:e.user_set,
total_user_sets:e.total_user_sets,total_users:e.total_users,calculation_type:e.calculation_type};jQuery("#ajax-loader").show();try{jQuery.post(ajaxurl,e,function(a){var b=jQuery("#progressbar");0==b.progressbar("option","max")&&b.progressbar("option","max",a.total_steps);b.progressbar("option","value",a.progress);jQuery("#calculation-message").html(a.message);!1===a.error?9==a.step?(jQuery("#ajax-loader").hide(),jQuery("#cboxClose").show(),jQuery("#button-calculate-single-ranking-"+a.single_ranking).hide(),
jQuery("#log-ranking-"+a.single_ranking).hide()):calculate_score_history(a):score_calculation_error(a.error)},"json").fail(function(a,b,c){score_calculation_error()})}catch(a){alert(FootballPoolAjax.error_label+":\n"+a)}}}function score_calculation_error(b){b=b||FootballPoolAjax.error_message;jQuery("#ajax-loader").hide();jQuery("#cboxClose").show();jQuery("#step-0-form").hide();jQuery("#progress").show();jQuery("#calculation-message").html('<span class="error">'+b+"</span>")}
function bulk_action_warning(b){var d=jQuery("#"+b);return d&&0!=d.prop("selectedIndex")?(b=jQuery("#"+b+" option").filter(":selected").attr("bulk-msg"),""!=b&&void 0!=b?confirm(b):!0):!1}function toggle_points(b){jQuery("#"+b+"_points").toggle()}var value_store=[];
function set_input_param(b,d,e){var f;jQuery.isArray(d)&&1<=d.length?jQuery.each(d,function(c,a){""!=a&&(jQuery.isArray(value_store[a])||(value_store[a]=[]),value_store[a][b]=jQuery(a).attr(b),f=jQuery.isArray(e)?e[c]:e,jQuery(a).attr(b,f))}):""!=d&&(value_store[d]=[b,jQuery(d).attr(b)],f=jQuery.isArray(e)?e[0]:e,jQuery(d).attr(b,f))}
function restore_input_param(b,d){var e="";jQuery.isArray(d)&&1<=d.length?jQuery.each(d,function(d,c){e=void 0!=typeof value_store[c][b]?value_store[c][b]:"";jQuery(c).attr(b,e)}):(e=void 0!=typeof value_store[d][b]?value_store[d][b]:"",jQuery(d).attr(b,e))}
function disable_inputs(b,d){var e=d||"",f=!1;""!=e&&(f=jQuery("#"+e).is(":checked"));jQuery.isArray(b)&&1<=b.length?jQuery.each(b,function(b,a){""!=a&&(""!=e?f?jQuery(a).attr("disabled","disabled"):jQuery(a).removeAttr("disabled"):jQuery(a).attr("disabled","disabled"))}):""!=b&&(""!=e?f?jQuery(b).attr("disabled","disabled"):jQuery(b).removeAttr("disabled"):jQuery(b).attr("disabled","disabled"))}
function toggle_linked_radio_options(b,d){jQuery.isArray(b)&&1<=b.length?jQuery.each(b,function(b,d){""!=d&&jQuery(d).toggle(!0)}):""!=b&&jQuery(b).toggle(!0);jQuery.isArray(d)&&1<=d.length?jQuery.each(d,function(b,d){""!=d&&jQuery(d).toggle(!1)}):""!=d&&jQuery(d).toggle(!1)}jQuery(document).ready(function(){jQuery("input[title].with-hint").inputHints()});
jQuery.fn.inputHints=function(){jQuery(this).each(function(b){""==jQuery(this).val()&&jQuery(this).val(jQuery(this).attr("title")).addClass("hint")});return jQuery(this).focus(function(){jQuery(this).val()==jQuery(this).attr("title")&&jQuery(this).val("").removeClass("hint")}).blur(function(){""==jQuery(this).val()&&jQuery(this).val(jQuery(this).attr("title")).addClass("hint")})};