jQuery(document).ready(function(){jQuery("body.football-pool input.current-page").keydown(function(b){13==b.which&&jQuery('input[name="action"]').val("")});jQuery("div.matchtype input:checkbox").click(function(){var b=jQuery(this).attr("id").replace("matchtype-","");jQuery(this).is(":checked")?jQuery("div.matchtype-"+b+" input:checkbox").each(function(){jQuery(this).attr("checked","checked")}):jQuery("div.matchtype-"+b+" input:checkbox").each(function(){jQuery(this).removeAttr("checked")})});try{jQuery("a.ranking-log-summary").colorbox({html:function(){return'<div class="ranking-log">'+
jQuery("div.ranking-log-summary",jQuery(this).parent()).html()+jQuery("div.ranking-log-rest",jQuery(this).parent()).html()+"</div>"},innerWidth:"600px",innerHeight:"400px"})}catch(b){}});
var FootballPoolAdmin=function(b){function k(d,e){var f;f=d||0;var g=e||0;if(0===f){f={action:"footballpool_calculate_scorehistory",fp_recalc_nonce:FootballPoolAjax.fp_recalc_nonce,step:0,single_ranking:g};try{b.post(ajaxurl,f,function(a){b.colorbox({html:a.colorbox_html,overlayClose:!1,escKey:!1,arrowKey:!1,close:FootballPoolAjax.colorbox_close,innerWidth:"500px",innerHeight:"285px"});b("#cboxClose").hide()},"json").fail(function(b,a,c){alert("Error message:\n"+c)})}catch(c){alert(FootballPoolAjax.error_label+
":\n"+c)}}else{1===f&&(f=b.parseJSON(b("#step-0-data").val()),f.calculation_type=b("input[name=calculation_type]:checked",".calculation-type-select").val(),b("#step-0-form").hide(),b("#progress").show(),b("#progressbar").progressbar({max:0}));f={action:"footballpool_calculate_scorehistory",fp_recalc_nonce:f.fp_recalc_nonce,step:f.step,sub_step:f.sub_step,single_ranking:f.single_ranking,ranking:f.ranking,progress:f.progress,total_steps:f.total_steps,user_set:f.user_set,total_user_sets:f.total_user_sets,
total_users:f.total_users,calculation_type:f.calculation_type};b("#ajax-loader").show();try{b.post(ajaxurl,f,function(a){var c=b("#progressbar");0==c.progressbar("option","max")&&c.progressbar("option","max",a.total_steps);c.progressbar("option","value",a.progress);b("#calculation-message").html(a.message);!1===a.error?9==a.step?(b("#ajax-loader").hide(),b("#cboxClose").show(),b("#button-calculate-single-ranking-"+a.single_ranking).hide(),b("#log-ranking-"+a.single_ranking).hide()):k(a):l(a.error)},
"json").fail(function(a,b,c){l()})}catch(a){alert(FootballPoolAjax.error_label+":\n"+a)}}}function l(d){d=d||FootballPoolAjax.error_message;b("#ajax-loader").hide();b("#cboxClose").show();b("#step-0-form").hide();b("#progress").show();b("#calculation-message").html('<span class="error">'+d+"</span>")}var h=[];return{tinymce_init:function(){tinyMCEPopup.resizeToInnerSize()},tinymce_init_tabs:function(d){b("li","#"+d).each(function(){b(this).bind("click",function(){mcTabs.displayTab(b(this).attr("id"),
b(this).attr("id").replace("_tab","")+"_panel");return!1})})},tinymce_insert_shortcode:function(){var d,e="",f=!1,g=!1;atts=panel=the_text="";b("div","#panel_wrapper").each(function(){b(this).hasClass("current")&&(panel=b(this).attr("id"))});var c="#"+panel;d=b(".shortcode",c).val();switch(d){case "fp-link":c=b("#slug",c).val();""!=c&&(atts+=' slug="'+c+'"');break;case "fp-register":var f=g=!0,a=b("#link-title",c).val();""!=a&&(atts+=' title="'+a+'"');b("#link-window",c).is(":checked")&&(atts+=' new="1"');
break;case "fp-countdown":a=b("input[name=count_to]:checked",c).val();"date"==a?(a=b("#count-date",c).val(),""!=a&&(atts+=' date="'+a+'"')):"match"==a&&(a=b("#count-match",c).val(),0<a&&(atts+=' match="'+a+'"'));b("#count-inline",c).is(":checked")&&(atts+=' display="inline"');a="";a=b("#count-no-texts",c).is(":checked")?"none":[b("#text-1",c).val(),b("#text-2",c).val(),b("#text-3",c).val(),b("#text-4",c).val()].join(";");""!=a&&";;;"!=a&&(atts+=' texts="'+a+'"');c=b("#count-format",c).val();0<c&&
(atts+=' format="'+c+'"');break;case "fp-group":c=b("#group-id",c).val();0<c&&(atts+=" id="+c);break;case "fp-ranking":a=b("#ranking-id",c).val();0<a&&(atts+=' ranking="'+a+'"');a=b("#ranking-league",c).val();0<a&&(atts+=' league="'+a+'"');a=b("#ranking-num",c).val();0<a&&(atts+=' num="'+a+'"');a=b("input:radio[name=ranking-date]:checked",c).val();"custom"==a&&(a=b("#ranking-date-custom-value",c).val());""!=a&&(atts+=' date="'+a+'"');break;case "fp-predictions":a=b("#predictions-match",c).val();0<
a&&(atts+=' match="'+a+'"');a=b("#predictions-question",c).val();0<a&&(atts+=' question="'+a+'"');a=b("#predictions-text",c).val();""!=a&&(atts+=' text="'+a+'"');break;case "fp-user-score":a=b("#user-score-ranking-id",c).val();0<a&&(atts+=' ranking="'+a+'"');a=b("#user-score-user-id",c).val();""!=a&&(atts+=' user="'+a+'"');a=b("#user-score-text",c).val();""!=a&&(atts+=' text="'+a+'"');a=b("input:radio[name=user-score-date]:checked",c).val();"custom"==a&&(a=b("#user-score-date-custom-value",c).val());
""!=a&&(atts+=' date="'+a+'"');break;case "fp-user-ranking":a=b("#user-ranking-ranking-id",c).val();0<a&&(atts+=' ranking="'+a+'"');a=b("#user-ranking-user-id",c).val();""!=a&&(atts+=' user="'+a+'"');a=b("#user-ranking-text",c).val();""!=a&&(atts+=' text="'+a+'"');a=b("input:radio[name=user-ranking-date]:checked",c).val();"custom"==a&&(a=b("#user-ranking-date-custom-value",c).val());""!=a&&(atts+=' date="'+a+'"');break;case "fp-predictionform":a=b("#match-id",c).val()||[];0<a.length&&(atts+=' match="'+
a.join(",")+'"');a=b("#matchtype-id",c).val()||[];0<a.length&&(atts+=' matchtype="'+a.join(",")+'"');c=b("#question-id",c).val()||[];0<c.length&&(atts+=' question="'+c.join(",")+'"');break;case "fp-matches":a=b("#matches-group-id",c).val();""!=a&&(atts+=' group="'+a+'"');a=b("#matches-match-id",c).val()||[];0<a.length&&(atts+=' match="'+a.join(",")+'"');a=b("#matches-matchtype-id",c).val()||[];0<a.length&&(atts+=' matchtype="'+a.join(",")+'"');break;case "fp-league-info":a=b("#league-info-league-id",
c).val();0<a&&(atts+=' league="'+a+'"');a=b("input:radio[name=league-info-info]:checked",c).val();""!=a&&(atts+=' info="'+a+'"');a=b("#league-info-ranking-id",c).val();0<a&&(atts+=' ranking="'+a+'"');c=b("#league-info-format",c).val();""!=c&&(atts+=' format="'+c+'"');break;default:""==d&&tinyMCEPopup.close()}""!=d&&(g&&""!=tinyMCE.activeEditor.selection.getContent()&&(the_text=tinyMCE.activeEditor.selection.getContent({format:"text"})),e="["+d+atts+"]",e+=the_text,e+=f?"[/"+d+"]":"");window.tinyMCE&&
(window.tinyMCE.execInstanceCommand("content","mceInsertContent",!1,e),tinyMCEPopup.editor.execCommand("mceRepaint"),tinyMCEPopup.close())},calculate:k,bulk_action_warning:function(d){var e=b("#"+d);return e&&0!=e.prop("selectedIndex")?(d=b("#"+d+" option").filter(":selected").attr("bulk-msg"),""!=d&&void 0!=d?confirm(d):!0):!1},toggle_points:function(d){b("#"+d+"_points").toggle()},set_input_param:function(d,e,f){var g;b.isArray(e)&&1<=e.length?b.each(e,function(c,a){""!=a&&(b.isArray(h[a])||(h[a]=
[]),h[a][d]=b(a).attr(d),g=b.isArray(f)?f[c]:f,b(a).attr(d,g))}):""!=e&&(h[e]=[d,b(e).attr(d)],g=b.isArray(f)?f[0]:f,b(e).attr(d,g))},restore_input_param:function(d,e){var f="";b.isArray(e)&&1<=e.length?b.each(e,function(e,c){f=void 0!=typeof h[c][d]?h[c][d]:"";b(c).attr(d,f)}):""!=e&&(f=void 0!=typeof h[e][d]?h[e][d]:"",b(e).attr(d,f))},disable_inputs:function(d,e){var f=e||"",g=!1;""!=f&&(g=b("#"+f).is(":checked"));b.isArray(d)&&1<=d.length?b.each(d,function(c,a){""!=a&&(""!=f?g?b(a).attr("disabled",
"disabled"):b(a).removeAttr("disabled"):b(a).attr("disabled","disabled"))}):""!=d&&(""!=f?g?b(d).attr("disabled","disabled"):b(d).removeAttr("disabled"):b(d).attr("disabled","disabled"))},toggle_linked_options:function(d,e){b.isArray(d)&&1<=d.length?b.each(d,function(d,e){""!=e&&b(e).toggle(!0)}):""!=d&&b(d).toggle(!0);b.isArray(e)&&1<=e.length?b.each(e,function(d,e){""!=e&&b(e).toggle(!1)}):""!=e&&b(e).toggle(!1)}}}(jQuery);jQuery(document).ready(function(){jQuery("input[title].with-hint").inputHints()});
jQuery.fn.inputHints=function(){jQuery(this).each(function(b){""==jQuery(this).val()&&jQuery(this).val(jQuery(this).attr("title")).addClass("hint")});return jQuery(this).focus(function(){jQuery(this).val()==jQuery(this).attr("title")&&jQuery(this).val("").removeClass("hint")}).blur(function(){""==jQuery(this).val()&&jQuery(this).val(jQuery(this).attr("title")).addClass("hint")})};