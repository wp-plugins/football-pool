jQuery(document).ready(function(){jQuery("body.football-pool input.current-page").keydown(function(c){13==c.which&&jQuery('input[name="action"]').val("")});jQuery("div.matchtype input:checkbox").click(function(){var c=jQuery(this).attr("id").replace("matchtype-","");jQuery(this).is(":checked")?jQuery("div.matchtype-"+c+" input:checkbox").each(function(){jQuery(this).attr("checked","checked")}):jQuery("div.matchtype-"+c+" input:checkbox").each(function(){jQuery(this).removeAttr("checked")})});try{jQuery("a.ranking-log-summary").colorbox({html:function(){return'<div class="ranking-log">'+
jQuery("div.ranking-log-summary",jQuery(this).parent()).html()+jQuery("div.ranking-log-rest",jQuery(this).parent()).html()+"</div>"},innerWidth:"600px",innerHeight:"400px"})}catch(c){}});function footballpool_tinymce_init_tabs(c){jQuery("li","#"+c).each(function(){jQuery(this).bind("click",function(){mcTabs.displayTab(jQuery(this).attr("id"),jQuery(this).attr("id").replace("_tab","")+"_panel");return!1})})}function footballpool_tinymce_init(){tinyMCEPopup.resizeToInnerSize()}
function footballpool_tinymce_insert_shortcode(){var c,d="",e=!1,f=!1;atts=panel=the_text="";jQuery("div","#panel_wrapper").each(function(){jQuery(this).hasClass("current")&&(panel=jQuery(this).attr("id"))});var b="#"+panel;c=jQuery(".shortcode",b).val();switch(c){case "fp-link":b=jQuery("#slug",b).val();""!=b&&(atts+=' slug="'+b+'"');break;case "fp-register":var e=f=!0,a=jQuery("#link-title",b).val();""!=a&&(atts+=' title="'+a+'"');jQuery("#link-window",b).is(":checked")&&(atts+=' new="1"');break;
case "fp-countdown":a=jQuery("input[name=count_to]:checked",b).val();"date"==a?(a=jQuery("#count-date",b).val(),""!=a&&(atts+=' date="'+a+'"')):"match"==a&&(a=jQuery("#count-match",b).val(),0<a&&(atts+=' match="'+a+'"'));jQuery("#count-inline",b).is(":checked")&&(atts+=' display="inline"');a="";a=jQuery("#count-no-texts",b).is(":checked")?"none":[jQuery("#text-1",b).val(),jQuery("#text-2",b).val(),jQuery("#text-3",b).val(),jQuery("#text-4",b).val()].join(";");""!=a&&";;;"!=a&&(atts+=' texts="'+a+
'"');b=jQuery("#count-format",b).val();0<b&&(atts+=' format="'+b+'"');break;case "fp-group":b=jQuery("#group-id",b).val();0<b&&(atts+=" id="+b);break;case "fp-ranking":a=jQuery("#ranking-id",b).val();0<a&&(atts+=' ranking="'+a+'"');a=jQuery("#ranking-league",b).val();0<a&&(atts+=' league="'+a+'"');a=jQuery("#ranking-num",b).val();0<a&&(atts+=' num="'+a+'"');a=jQuery("input:radio[name=ranking-date]:checked",b).val();"custom"==a&&(a=jQuery("#ranking-date-custom-value",b).val());""!=a&&(atts+=' date="'+
a+'"');break;case "fp-predictions":a=jQuery("#predictions-match",b).val();0<a&&(atts+=' match="'+a+'"');a=jQuery("#predictions-question",b).val();0<a&&(atts+=' question="'+a+'"');a=jQuery("#predictions-text",b).val();""!=a&&(atts+=' text="'+a+'"');break;case "fp-user-score":a=jQuery("#user-score-ranking-id",b).val();0<a&&(atts+=' ranking="'+a+'"');a=jQuery("#user-score-user-id",b).val();""!=a&&(atts+=' user="'+a+'"');a=jQuery("#user-score-text",b).val();""!=a&&(atts+=' text="'+a+'"');a=jQuery("input:radio[name=user-score-date]:checked",
b).val();"custom"==a&&(a=jQuery("#user-score-date-custom-value",b).val());""!=a&&(atts+=' date="'+a+'"');break;case "fp-user-ranking":a=jQuery("#user-ranking-ranking-id",b).val();0<a&&(atts+=' ranking="'+a+'"');a=jQuery("#user-ranking-user-id",b).val();""!=a&&(atts+=' user="'+a+'"');a=jQuery("#user-ranking-text",b).val();""!=a&&(atts+=' text="'+a+'"');a=jQuery("input:radio[name=user-ranking-date]:checked",b).val();"custom"==a&&(a=jQuery("#user-ranking-date-custom-value",b).val());""!=a&&(atts+=' date="'+
a+'"');break;case "fp-predictionform":a=jQuery("#match-id",b).val()||[];0<a.length&&(atts+=' match="'+a.join(",")+'"');a=jQuery("#matchtype-id",b).val()||[];0<a.length&&(atts+=' matchtype="'+a.join(",")+'"');b=jQuery("#question-id",b).val()||[];0<b.length&&(atts+=' question="'+b.join(",")+'"');break;case "fp-matches":a=jQuery("#matches-group-id",b).val();""!=a&&(atts+=' group="'+a+'"');a=jQuery("#matches-match-id",b).val()||[];0<a.length&&(atts+=' match="'+a.join(",")+'"');a=jQuery("#matches-matchtype-id",
b).val()||[];0<a.length&&(atts+=' matchtype="'+a.join(",")+'"');break;case "fp-league-info":a=jQuery("#league-info-league-id",b).val();0<a&&(atts+=' league="'+a+'"');a=jQuery("input:radio[name=league-info-info]:checked",b).val();""!=a&&(atts+=' info="'+a+'"');a=jQuery("#league-info-ranking-id",b).val();0<a&&(atts+=' ranking="'+a+'"');b=jQuery("#league-info-format",b).val();""!=b&&(atts+=' format="'+b+'"');break;default:""==c&&tinyMCEPopup.close()}""!=c&&(f&&""!=tinyMCE.activeEditor.selection.getContent()&&
(the_text=tinyMCE.activeEditor.selection.getContent({format:"text"})),d="["+c+atts+"]",d+=the_text,d+=e?"[/"+c+"]":"");window.tinyMCE&&(window.tinyMCE.execInstanceCommand("content","mceInsertContent",!1,d),tinyMCEPopup.editor.execCommand("mceRepaint"),tinyMCEPopup.close())}
function calculate_score_history(c,d){var e;e=c||0;var f=d||0;if(0===e){e={action:"footballpool_calculate_scorehistory",fp_recalc_nonce:FootballPoolAjax.fp_recalc_nonce,step:0,single_ranking:f};try{jQuery.post(ajaxurl,e,function(a){jQuery.colorbox({html:a.colorbox_html,overlayClose:!1,escKey:!1,arrowKey:!1,close:FootballPoolAjax.colorbox_close,innerWidth:"500px",innerHeight:"285px"});jQuery("#cboxClose").hide()},"json").fail(function(a,b,c){alert("Error message:\n"+c)})}catch(b){alert(FootballPoolAjax.error_label+
":\n"+b)}}else{1===e&&(e=jQuery.parseJSON(jQuery("#step-0-data").val()),e.calculation_type=jQuery("input[name=calculation_type]:checked",".calculation-type-select").val(),jQuery("#step-0-form").hide(),jQuery("#progress").show(),jQuery("#progressbar").progressbar({max:0}));e={action:"footballpool_calculate_scorehistory",fp_recalc_nonce:e.fp_recalc_nonce,step:e.step,sub_step:e.sub_step,single_ranking:e.single_ranking,ranking:e.ranking,progress:e.progress,total_steps:e.total_steps,user_set:e.user_set,
total_user_sets:e.total_user_sets,total_users:e.total_users,calculation_type:e.calculation_type};jQuery("#ajax-loader").show();try{jQuery.post(ajaxurl,e,function(a){var b=jQuery("#progressbar");0==b.progressbar("option","max")&&b.progressbar("option","max",a.total_steps);b.progressbar("option","value",a.progress);jQuery("#calculation-message").html(a.message);!1===a.error?9==a.step?(jQuery("#ajax-loader").hide(),jQuery("#cboxClose").show(),jQuery("#button-calculate-single-ranking-"+a.single_ranking).hide(),
jQuery("#log-ranking-"+a.single_ranking).hide()):calculate_score_history(a):score_calculation_error(a.error)},"json").fail(function(a,b,c){score_calculation_error()})}catch(a){alert(FootballPoolAjax.error_label+":\n"+a)}}}function score_calculation_error(c){c=c||FootballPoolAjax.error_message;jQuery("#ajax-loader").hide();jQuery("#cboxClose").show();jQuery("#step-0-form").hide();jQuery("#progress").show();jQuery("#calculation-message").html('<span class="error">'+c+"</span>")}
function bulk_action_warning(c){var d=jQuery("#"+c);return d&&0!=d.prop("selectedIndex")?(c=jQuery("#"+c+" option").filter(":selected").attr("bulk-msg"),""!=c&&void 0!=c?confirm(c):!0):!1}function toggle_points(c){jQuery("#"+c+"_points").toggle()}var value_store=[];
function set_input_param(c,d,e){var f;jQuery.isArray(d)&&1<=d.length?jQuery.each(d,function(b,a){""!=a&&(jQuery.isArray(value_store[a])||(value_store[a]=[]),value_store[a][c]=jQuery(a).attr(c),f=jQuery.isArray(e)?e[b]:e,jQuery(a).attr(c,f))}):""!=d&&(value_store[d]=[c,jQuery(d).attr(c)],f=jQuery.isArray(e)?e[0]:e,jQuery(d).attr(c,f))}
function restore_input_param(c,d){var e="";jQuery.isArray(d)&&1<=d.length?jQuery.each(d,function(d,b){e=void 0!=typeof value_store[b][c]?value_store[b][c]:"";jQuery(b).attr(c,e)}):(e=void 0!=typeof value_store[d][c]?value_store[d][c]:"",jQuery(d).attr(c,e))}
function disable_inputs(c,d){var e=d||"",f=!1;""!=e&&(f=jQuery("#"+e).is(":checked"));jQuery.isArray(c)&&1<=c.length?jQuery.each(c,function(b,a){""!=a&&(""!=e?f?jQuery(a).attr("disabled","disabled"):jQuery(a).removeAttr("disabled"):jQuery(a).attr("disabled","disabled"))}):""!=c&&(""!=e?f?jQuery(c).attr("disabled","disabled"):jQuery(c).removeAttr("disabled"):jQuery(c).attr("disabled","disabled"))}
function toggle_linked_radio_options(c,d){jQuery.isArray(c)&&1<=c.length?jQuery.each(c,function(c,d){""!=d&&jQuery(d).toggle(!0)}):""!=c&&jQuery(c).toggle(!0);jQuery.isArray(d)&&1<=d.length?jQuery.each(d,function(c,d){""!=d&&jQuery(d).toggle(!1)}):""!=d&&jQuery(d).toggle(!1)}jQuery(document).ready(function(){jQuery("input[title].with-hint").inputHints()});
jQuery.fn.inputHints=function(){jQuery(this).each(function(c){""==jQuery(this).val()&&jQuery(this).val(jQuery(this).attr("title")).addClass("hint")});return jQuery(this).focus(function(){jQuery(this).val()==jQuery(this).attr("title")&&jQuery(this).val("").removeClass("hint")}).blur(function(){""==jQuery(this).val()&&jQuery(this).val(jQuery(this).attr("title")).addClass("hint")})};